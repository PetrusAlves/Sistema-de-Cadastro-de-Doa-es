<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:f="http://xmlns.jcp.org/jsf/core">

<h:head>
    <title>LOGIN</title>
	<h:outputStylesheet library="estilos" name="login.css" />
	
	<h:outputStylesheet name="styles.css"/>
    <!-- FontAwesome CDN -->
    <h:outputStylesheet name="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css"/>
	
</h:head>

<h:body>
    <div class="card-container" style="text-align: center;">
       
        <p:card id="cardBranco">
            <div class="card-header">
                <img src="resources/imagens/logodoacao.png" alt="Logo" style="max-width: 35%; height: auto;"/>
            </div><br/>

            <p:messages id="messages" showDetail="true" closable="true">
                <p:autoUpdate />
            </p:messages>

            <div class="form-container">
                <h:form id="formulario">
                	<h2 style="text-align: center;">SISTEMA TECNOLÓGICO DE ALFABETIZAÇÃO DIGITAL</h2>
                    <div class="ui-g">
                    
                        <div class="ui-g-12">
                            <p:outputLabel for="email" value="Email:"/>
                            <div class="ui-input-icon-right">
                                <i class="pi pi-envelope"/>
                                <p:inputText id="email" value="#{loginBean.login.usuario}" placeholder="Digite seu e-mail" style="width: 38rem;"/>
                            </div>
                        </div>
                        
                        <div class="ui-g-12">
                            <p:outputLabel for="senhaInput" value="Senha:"/>
                            <div class="ui-input-icon-left">
                                <i class="pi pi-lock"/>
                                <p:password id="senhaInput" value="#{loginBean.login.senha}" placeholder="Digite sua senha" style="width: 38rem;" toggleMask="true"/>
                                <i class="pi" id="mostrarSenhaIcon" style="cursor: pointer;" onclick="senhaVisivel('senhaInput', 'mostrarSenhaIcon')"/>
                            </div>
                        </div>
                        
                        <div class="ui-g-6">
                            <h:commandLink value="Esqueceu a senha?" action="#{loginBean.esqueciSenha}" style="color: #007bff; text-decoration: none; font-weight: bold; font-size: 15px;"/>
                        </div>
                        
                    </div><br/>

					<div class="ui-g">

						<div class="ui-g-6">
							<p:commandButton style="width: 100%" value="Entrar"
								icon="pi pi-check" action="#{loginBean.logar}"
								update="formulario" styleClass="ui-button-success" type="button" />
						</div>
						
						<div class="ui-g-6">	
							<p:commandButton style="width: 100%" value="Cadastre-se"
								icon="pi pi-user-plus" action="cadastro.xhtml"
								styleClass="ui-button-success" type="button" onclick="PF('dlg1').show()"/>
						</div>	
					 	
						<div class="ui-g-6">
				    		<p:commandButton style="width: 100%" value="Seja um doador!" icon="pi pi-heart"
				                     action="doador.xhtml" update="formulario"
				                     styleClass="ui-button" type="button" onclick="PF('dlg2').show()"/>
						</div>

						<div class="ui-g-6">
				    		<p:commandButton style="width: 100%" value="Quadro de Visitas" icon="pi pi-clock"
				                     action="doador.xhtml" update="formulario"
				                     styleClass="ui-button" type="button" onclick="PF('dlg3').show()"/>
						</div>
					</div>

				</h:form>
            </div>
            
        </p:card>
    </div>

	<p:dialog header="Cadastre-se como:" widgetVar="dlg1" position="center" resizable="false" minHeight="40" width="350" showEffect="fade" modal="true" closeOnEscape="true" style="text-align: center;" draggable="false">
    
	    <div class="ui-g-6">
	        <p:commandButton style="align-items: left;" value="ALUNO"
	            icon="pi pi-user" action="cadastroAluno.xhtml?faces-redirect=true"
	            styleClass="ui-button-success"/>
	    </div>
	    
	    <div class="ui-g-6">
	        <p:commandButton style="align-items: right;" value="PROFESSOR"
	            icon="pi pi-book" action="cadastroProfessor.xhtml?faces-redirect=true"
	            styleClass="ui-button-success"/>
	    </div>
	</p:dialog>

	<p:dialog header="O	que você deseja doar?" widgetVar="dlg2" position="center" resizable="false" minHeight="40" width="500" showEffect="fade" modal="true" closeOnEscape="true" style="text-align: center;" draggable="false">
    
	    <div class="ui-g-4">
	        <p:commandButton style="align-items: left;" value="ELETRÔNICOS"
	            icon="pi pi-user" action="cadastroEletronicos.xhtml?faces-redirect=true"
	            styleClass="ui-button-success"/>
	    </div>
	    
	    <div class="ui-g-4">
	        <p:commandButton style="margin-left: 18px;" value="VEÍCULO"
	            icon="pi pi-shopping-cart" action="cadastroVeiculo.xhtml?faces-redirect=true"
	            styleClass="ui-button-success"/>
	    </div>

	    <div class="ui-g-4">
	        <p:commandButton value="SERVIÇO"
	            icon="pi pi-cog" action="cadastroServico.xhtml?faces-redirect=true"
	            styleClass="ui-button-success"/>
	    </div>
	</p:dialog>

	<p:dialog header="Cronograma de Visitas" widgetVar="dlg3" position="center" resizable="false" minHeight="40" width="1200" showEffect="fade" modal="true" closeOnEscape="true" style="text-align: center;" draggable="false">
    
    <div style="text-align: right; margin-top: 10px;">
        <p:commandButton value="Excel" styleClass="mr-2 mb-2" style="margin-right: 10px;">
            <p:dataExporter type="xlsx" target="tblCronograma" fileName="cronograma_visitas" />
        </p:commandButton>

        <p:commandButton value="PDF" styleClass="mr-2 mb-2">
            <p:dataExporter type="pdf" target="tblCronograma" fileName="cronograma_visitas" />
        </p:commandButton>
    </div>

    <!-- Tabela de Cronograma -->
    <p:dataTable id="tblCronograma" var="item" value="#{alunoBean.cronogramas}" styleClass="ui-responsive" paginator="true" rows="5" scrollable="true" scrollHeight="200px">
        
        <p:column headerText="Data de Início" style="text-align:center">
            <h:outputText value="#{item.data}" />
        </p:column>
  
        <p:column headerText="Dias" style="text-align:center">
            <h:outputText value="#{item.dia}" />
        </p:column>

        <p:column headerText="Horário" style="text-align:center">
	            <h:outputText value="#{item.horario}" />
        </p:column>
  
        <p:column headerText="Bairro" style="text-align:center">
            <h:outputText value="#{item.bairro}" />
        </p:column>
  
        <p:column headerText="Cidade" style="text-align:center">
            <h:outputText value="#{item.cidade}" />
        </p:column>
        <p:column headerText="Tempo no Local" style="text-align:center">
            <h:outputText value="#{item.tempo}" />
        </p:column>
    </p:dataTable>
</p:dialog>




    <script>
        function senhaVisivel(inputId, iconId) {
            var input = document.getElementById(inputId);
            var icon = document.getElementById(iconId);

            if (input.type === 'password') {
                input.type = 'text';
                icon.classList.remove('pi-lock');
                icon.classList.add('pi-unlock');
            } else {
                input.type = 'password';
                icon.classList.remove('pi-unlock');
                icon.classList.add('pi-lock');
            }
        }
    </script>
</h:body>

</html>
